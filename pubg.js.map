{"version":3,"sources":["webpack:///webpack/bootstrap 111a76f345b2d6a59d92","webpack:///./package.json","webpack:///./src/Profile.js","webpack:///./src/Stats.js","webpack:///./src/Account.js","webpack:///./src/Match.js","webpack:///./src/index.js","webpack:///./src/Client.js","webpack:///./node_modules/snekfetch/index.js","webpack:///./node_modules/snekfetch/src/index.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/snekfetch/package.json","webpack:///./node_modules/snekfetch/src/browser.js","webpack:///./node (ignored)"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,kBAAkB,oJAAoJ,gKAAgK,eAAe,gEAAgE,gFAAgF,kDAAkD,kHAAkH,qBAAqB,oBAAoB,gF;;;;;;ACAlrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uB;;;;;;AChCA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,yB;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uB;;;;;;ACpCA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,E;;;;;;ACVA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,sCAAsC,gBAAgB,IAAI,iBAAiB;AAC3E;AACA;AACA;;AAEA,qCAAqC;AACrC,6EAA6E,SAAS;AACtF;AACA;AACA;;AAEA;AACA,uFAAuF,GAAG;AAC1F;AACA;AACA;;AAEA;AACA,6EAA6E,UAAU;AACvF;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA,yDAAyD,aAAa,cAAc,YAAY;AAChG,+CAA+C,EAAE;AACjD;;AAEA;;AAEA,wB;;;;;;AClDA;;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB,gBAAgB,qBAAqB;AACrC,gBAAgB,cAAc;AAC9B,gBAAgB,QAAQ;AACxB,gBAAgB,OAAO;AACvB;AACA,gBAAgB,OAAO;AACvB,gBAAgB,eAAe;AAC/B;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,2BAA2B;AACxC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,OAAO;AACpB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,OAAO;AACpB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,qBAAqB;AAClC,aAAa,OAAO;AACpB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,qBAAqB;AAClC,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,mCAAmC;AACjD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA,kBAAkB,aAAa;AAC/B,kBAAkB,sBAAsB;AACxC,kBAAkB,OAAO;AACzB,kBAAkB,QAAQ;AAC1B,kBAAkB,OAAO;AACzB,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,mCAAmC,WAAW,GAAG,eAAe;AAChE;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,kBAAkB,IAAI,iBAAiB;AACjF;AACA;AACA;AACA,oDAAoD,YAAY,wBAAwB;AACxF;AACA;AACA;AACA,6BAA6B,KAAK,GAAG,8CAA8C,EAAE,YAAY,MAAM,OAAO;AAC9G;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,2BAA2B;AACtC,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;;;;;;;;ACnSA;;AAEA;AACA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpFA,kBAAkB,oSAAoS,eAAe,4JAA4J,sKAAsK,0CAA0C,YAAY,kDAAkD,SAAS,oDAAoD,kBAAkB,2GAA2G,qOAAqO,2DAA2D,0JAA0J,oEAAoE,kEAAkE,YAAY,6IAA6I,mB;;;;;;ACAloD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;;;;;;ACjCA,e","file":"out/pubg.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 111a76f345b2d6a59d92","module.exports = {\"name\":\"pubg.js\",\"version\":\"2.0.0\",\"description\":\"A powerful Playerunknown's Battlegrounds JavaScript API Wrapper\",\"main\":\"src/index.js\",\"scripts\":{\"test\":\"npm run lint && npm run tests\",\"lint\":\"eslint src *.js\",\"tests\":\"node test/index.js\",\"webpack\":\"./node_modules/.bin/webpack --config webpack.config.js\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/ickerio/pubg.js.git\"},\"keywords\":[\"pubg\",\"api\",\"wrapper\"],\"author\":\"ickerio\",\"license\":\"ISC\",\"bugs\":{\"url\":\"https://github.com/ickerio/pubg.js/issues\"},\"runkitExampleFilename\":\"docs/example.js\",\"homepage\":\"https://github.com/ickerio/pubg.js#readme\",\"dependencies\":{\"snekfetch\":\"^3.4.1\"},\"devDependencies\":{\"eslint\":\"^4.8.0\",\"uglifyjs-webpack-plugin\":\"^1.0.0-beta.3\",\"webpack\":\"^3.6.0\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 0\n// module chunks = 0","const Stats = require('./Stats');\n\nclass Profile {\n    constructor(content, client) {\n        this.pubgTrackerId = content.pubgTrackerId;\n        this.accountId = content.accountId;\n        this.platform = content.platform;\n        this.nickname = content.nickname;\n        this.avatar = content.avatar;\n        this.avatarFull = content.avatar.replace('.jpg', '_full.jpg');\n        this.steamId = content.steamId;\n        this.lastUpdated = content.lastUpdated;\n        this.timePlayed = content.timePlayed;\n        this.stats = content.stats.map(stats => new Stats(stats));\n\n        this.client = client;\n    }\n\n    getStats(options = {}) {\n        return this.stats.find(s => \n            s.region === options.region && \n            s.season === options.season &&\n            s.mode === options.mode\n        );\n    }\n\n    matchHistory() {\n        return this.client.getMatchHistory(this.accountId);\n    }\n\n    account() {\n        return this.client.getAccount(this.steamId);\n    }\n}\n\nmodule.exports = Profile;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Profile.js\n// module id = 1\n// module chunks = 0","class Stats {\n    constructor(content) {\n        this.region = content.region;\n        this.season = content.season;\n        this.mode = content.mode;\n        this.stats = this._structureStats(content.stats);\n    }\n\n    getItem(name) {\n        if (!name || !typeof name === 'string') return;\n        return this.stats.find(s => s.name === name);\n    }\n\n    _structureStats(Stats) {\n        const stats = [];\n        for (const stat of Object.keys(Stats)) {\n            const data = Stats[stat];\n            const statObj = {\n                fullName: data.label,\n                name: data.field,\n                category: data.category,\n                value: data.value,\n                rank: data.rank,\n                percentile: data.percentile,\n                displayValue: data.displayValue\n            };\n            stats.push(statObj);\n        }\n        return stats;\n    }\n}\n\nmodule.exports = Stats;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Stats.js\n// module id = 2\n// module chunks = 0","class Account {\n    constructor(content, client) {\n        this.accountId = content.accountId;\n        this.nickname = content.nickname;\n        this.steamId = content.steamId;\n\n        this.client = client;\n    }\n    \n    profile(options) {\n        return this.client.getProfile(this.nickname, options);\n    }\n\n    matchHistory() {\n        return this.client.getMatchHistory(this.accountId);\n    }\n\n}\n\nmodule.exports = Account;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Account.js\n// module id = 3\n// module chunks = 0","class Match {\n    constructor(content) {\n        this.id = content.id;\n        this.updated = content.updated;\n        this.updatedJS = content.updatedJS;\n        this.season = content.season;\n        this.seasonDisplay = content.seasonDisplay;\n        this.match = content.match;\n        this.matchDisplay = content.matchDisplay;\n        this.region = content.region;\n        this.regionDisplay = content.regionDisplay;\n        this.rounds = content.rounds;\n        this.wins = content.wins;\n        this.kills = content.kills;\n        this.assists = content.assists;\n        this.top10 = content.top10;\n        this.rating = content.rating;\n        this.ratingChange = content.ratingChange;\n        this.ratingRank = content.ratingRank;\n        this.ratingRankChange = content.ratingRankChange;\n        this.headshots = content.headshots;\n        this.kd = content.kd;\n        this.damage = content.damage;\n        this.timeSurvived = content.timeSurvived;\n        this.winRating = content.winRating;\n        this.winRank = content.winRank;\n        this.winRatingChange = content.winRatingChange;\n        this.winRatingRankChange = content.winRatingRankChange;\n        this.killRating = content.killRating;\n        this.killRank = content.killRank;\n        this.killRatingChange = content.killRatingChange;\n        this.killRatingRankChange = content.killRatingRankChange;\n        this.moveDistance = content.moveDistance;\n    }\n}\n\nmodule.exports = Match;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Match.js\n// module id = 4\n// module chunks = 0","module.exports = {\n    // Base Class\n    Client: require('./Client'),\n\n    Profile: require('./Profile'),\n    Account: require('./Account'),\n    Stats: require('./Stats'),\n    Match: require('./Match'),\n\n    version: require('../package.json').version\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.js\n// module id = 5\n// module chunks = 0","const snekfetch = require('snekfetch');\nconst Package = require('../package.json');\n\nconst Profile = require('./Profile');\nconst Account = require('./Account');\nconst Match = require('./Match');\n\nclass Client {\n    constructor(key) {\n\n        if (!key) {\n            throw new Error('No API key passed.');\n        }\n\n        this.key = key;\n\n        this._headers = {\n            'User-Agent': `pubg.js v${Package.version} (${Package.homepage})`,\n            'TRN-Api-Key': this.key\n        };\n    }\n\n    getProfile(username, options = {}) {\n        return this._apiRequest(`https://api.pubgtracker.com/v2/profile/pc/${username}`, options)\n            .then(body => new Profile(body, this))\n            .catch(e => Promise.reject(e));\n    }\n\n    getAccount(id) {\n        return this._apiRequest(`https://api.pubgtracker.com/v2/search/steam?steamId=${id}`)\n            .then(body => new Account(body, this))\n            .catch(e => Promise.reject(e));\n    }\n\n    getMatchHistory(accountId) {\n        return this._apiRequest(`https://api.pubgtracker.com/v2/matches/pc/${accountId}`)\n            .then(body => body.map(match => new Match(match)))\n            .catch(e => Promise.reject(e));\n    }\n\n    _apiRequest(url, options = {}) {\n        return snekfetch.get(url)\n            .set(this._headers)\n            .query(options)\n            .then(r => r.body.error ? Promise.reject(`\"${r.body.error}\" with code ${r.body.code}`) : r.body)\n            .catch(e => Promise.reject(`HTTP ${e}`));\n    }\n\n}\n\nmodule.exports = Client;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Client.js\n// module id = 6\n// module chunks = 0","module.exports = require('./src');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/snekfetch/index.js\n// module id = 7\n// module chunks = 0","const browser = typeof window !== 'undefined';\nconst querystring = require('querystring');\nconst Package = require('../package');\nconst transport = browser ? require('./browser') : require('./node');\n\n/**\n * Snekfetch\n * @extends Stream.Readable\n * @extends Promise\n */\nclass Snekfetch extends transport.Extension {\n  /**\n   * Options to pass to the Snekfetch constructor\n   * @typedef {object} snekfetchOptions\n   * @memberof Snekfetch\n   * @property {object} [headers] Headers to initialize the request with\n   * @property {object|string|Buffer} [data] Data to initialize the request with\n   * @property {string|Object} [query] Query to intialize the request with\n   * @property {boolean} [followRedirects=true] If the request should follow redirects\n   * @property {object} [qs=querystring] Querystring module to use, any object providing\n   * `stringify` and `parse` for querystrings\n   * @property {number} [version = 1] The http version to use [1 or 2]\n   * @property {external:Agent} [agent] Whether to use an http agent\n   */\n\n  /**\n   * Create a request.\n   * Usually you'll want to do `Snekfetch#method(url [, options])` instead of\n   * `new Snekfetch(method, url [, options])`\n   * @param {string} method HTTP method\n   * @param {string} url URL\n   * @param {Snekfetch.snekfetchOptions} opts Options\n   */\n  constructor(method, url, opts = {\n    version: 1,\n    qs: querystring,\n    followRedirects: true,\n  }) {\n    super();\n    this.options = opts;\n    this.request = transport.buildRequest.call(this, method, url, opts);\n    if (opts.query) this.query(opts.query);\n    if (opts.data) this.send(opts.data);\n  }\n\n  /**\n   * Add a query param to the request\n   * @param {string|Object} name Name of query param or object to add to query\n   * @param {string} [value] If name is a string value, this will be the value of the query param\n   * @returns {Snekfetch} This request\n   */\n  query(name, value) {\n    if (this.response) throw new Error('Cannot modify query after being sent!');\n    if (!this.request.query) this.request.query = {};\n    if (name !== null && typeof name === 'object') {\n      for (const [k, v] of Object.entries(name)) this.query(k, v);\n    } else {\n      this.request.query[name] = value;\n    }\n    return this;\n  }\n\n  /**\n   * Add a header to the request\n   * @param {string|Object} name Name of query param or object to add to headers\n   * @param {string} [value] If name is a string value, this will be the value of the header\n   * @returns {Snekfetch} This request\n   */\n  set(name, value) {\n    if (this.response) throw new Error('Cannot modify headers after being sent!');\n    if (name !== null && typeof name === 'object') {\n      for (const key of Object.keys(name)) this.set(key, name[key]);\n    } else {\n      this.request.setHeader(name, value);\n    }\n    return this;\n  }\n\n  /**\n   * Attach a form data object\n   * @param {string} name Name of the form attachment\n   * @param {string|Object|Buffer} data Data for the attachment\n   * @param {string} [filename] Optional filename if form attachment name needs to be overridden\n   * @returns {Snekfetch} This request\n   */\n  attach(...args) {\n    if (this.response) throw new Error('Cannot modify data after being sent!');\n    const form = this._getFormData();\n    form.append(...args);\n    return this;\n  }\n\n  /**\n   * Send data with the request\n   * @param {string|Buffer|Object} data Data to send\n   * @returns {Snekfetch} This request\n   */\n  send(data) {\n    if (this.response) throw new Error('Cannot modify data after being sent!');\n    if (data instanceof transport.FormData || transport.shouldSendRaw(data)) {\n      this.data = data;\n    } else if (data !== null && typeof data === 'object') {\n      const header = this._getRequestHeader('content-type');\n      let serialize;\n      if (header) {\n        if (header.includes('json')) serialize = JSON.stringify;\n        else if (header.includes('urlencoded')) serialize = this.options.qs.stringify;\n      } else {\n        this.set('Content-Type', 'application/json');\n        serialize = JSON.stringify;\n      }\n      this.data = serialize(data);\n    } else {\n      this.data = data;\n    }\n    return this;\n  }\n\n  then(resolver, rejector) {\n    return transport.finalizeRequest.call(this)\n      .then(({ response, raw, redirect, headers }) => {\n        if (redirect) {\n          let method = this.request.method;\n          if ([301, 302].includes(response.statusCode)) {\n            if (method !== 'HEAD') method = 'GET';\n            this.data = null;\n          } else if (response.statusCode === 303) {\n            method = 'GET';\n          }\n\n          const redirectHeaders = {};\n          if (this.request._headerNames) {\n            for (const name of Object.keys(this.request._headerNames)) {\n              if (name.toLowerCase() === 'host') continue;\n              redirectHeaders[this.request._headerNames[name]] = this.request._headers[name];\n            }\n          } else {\n            const hds = this.request._headers || this.request.headers;\n            for (const name of Object.keys(hds)) {\n              if (name.toLowerCase() === 'host') continue;\n              const header = hds[name];\n              redirectHeaders[header.name] = header.value;\n            }\n          }\n\n          return new Snekfetch(method, redirect, {\n            data: this.data,\n            headers: redirectHeaders,\n          });\n        }\n\n        const statusCode = response.statusCode || response.status;\n        // forgive me :(\n        const self = this; // eslint-disable-line consistent-this\n        /**\n         * Response from Snekfetch\n         * @typedef {Object} SnekfetchResponse\n         * @memberof Snekfetch\n         * @prop {HTTP.Request} request\n         * @prop {?string|object|Buffer} body Processed response body\n         * @prop {string} text Raw response body\n         * @prop {boolean} ok If the response code is >= 200 and < 300\n         * @prop {number} status HTTP status code\n         * @prop {string} statusText Human readable HTTP status\n         */\n        const res = {\n          request: this.request,\n          get body() {\n            delete res.body;\n            const type = this.headers['content-type'];\n            if (type && type.includes('application/json')) {\n              try {\n                res.body = JSON.parse(res.text);\n              } catch (err) {\n                res.body = res.text;\n              }\n            } else if (type && type.includes('application/x-www-form-urlencoded')) {\n              res.body = self.options.qs.parse(res.text);\n            } else {\n              res.body = raw;\n            }\n\n            return res.body;\n          },\n          text: raw.toString(),\n          ok: statusCode >= 200 && statusCode < 400,\n          headers: headers || response.headers,\n          status: statusCode,\n          statusText: response.statusText || transport.STATUS_CODES[response.statusCode],\n        };\n\n        if (res.ok) {\n          return res;\n        } else {\n          const err = new Error(`${res.status} ${res.statusText}`.trim());\n          Object.assign(err, res);\n          return Promise.reject(err);\n        }\n      })\n      .then(resolver, rejector);\n  }\n\n  catch(rejector) {\n    return this.then(null, rejector);\n  }\n\n  /**\n   * End the request\n   * @param {Function} [cb] Optional callback to handle the response\n   * @returns {Promise} This request\n   */\n  end(cb) {\n    return this.then(\n      (res) => cb ? cb(null, res) : res,\n      (err) => cb ? cb(err, err.status ? err : null) : Promise.reject(err)\n    );\n  }\n\n  /* istanbul ignore next */\n  _read() {\n    this.resume();\n    if (this.response) return;\n    this.catch((err) => this.emit('error', err));\n  }\n\n  _shouldUnzip(res) {\n    if (res.statusCode === 204 || res.statusCode === 304) return false;\n    if (res.headers['content-length'] === '0') return false;\n    return /^\\s*(?:deflate|gzip)\\s*$/.test(res.headers['content-encoding']);\n  }\n\n  _shouldRedirect(res) {\n    return this.options.followRedirects !== false && [301, 302, 303, 307, 308].includes(res.statusCode);\n  }\n\n  _getFormData() {\n    if (!(this.data instanceof transport.FormData)) {\n      this.data = new transport.FormData();\n    }\n    return this.data;\n  }\n\n  _finalizeRequest() {\n    if (!this.request) return;\n    if (!this._getRequestHeader('user-agent')) {\n      this.set('User-Agent', `snekfetch/${Snekfetch.version} (${Package.homepage})`);\n    }\n    if (this.request.method !== 'HEAD') this.set('Accept-Encoding', 'gzip, deflate');\n    if (this.data && this.data.getBoundary) {\n      this.set('Content-Type', `multipart/form-data; boundary=${this.data.getBoundary()}`);\n    }\n    if (this.request.query) {\n      const [path, query] = this.request.path.split('?');\n      this.request.path = `${path}?${this.options.qs.stringify(this.request.query)}${query ? `&${query}` : ''}`;\n    }\n  }\n\n  get response() {\n    return this.request ? this.request.res || this.request._response || null : null;\n  }\n\n  _getRequestHeader(header) {\n    // https://github.com/jhiesey/stream-http/pull/77\n    try {\n      return this.request.getHeader(header);\n    } catch (err) {\n      return null;\n    }\n  }\n}\n\nSnekfetch.version = Package.version;\n\n/**\n * Create a ((THIS)) request\n * @dynamic this.METHODS\n * @method Snekfetch.((THIS)lowerCase)\n * @param {string} url The url to request\n * @param {Snekfetch.snekfetchOptions} [opts] Options\n * @returns {Snekfetch}\n */\nSnekfetch.METHODS = transport.METHODS.concat('BREW').filter((m) => m !== 'M-SEARCH');\nfor (const method of Snekfetch.METHODS) {\n  Snekfetch[method.toLowerCase()] = (url, opts) => new Snekfetch(method, url, opts);\n}\n\nmodule.exports = Snekfetch;\n\n/**\n * @external Agent\n * @see {@link https://nodejs.org/api/http.html#http_class_http_agent}\n */\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/snekfetch/src/index.js\n// module id = 8\n// module chunks = 0","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/querystring-es3/index.js\n// module id = 9\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/querystring-es3/decode.js\n// module id = 10\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/querystring-es3/encode.js\n// module id = 11\n// module chunks = 0","module.exports = {\"_args\":[[\"snekfetch@3.5.1\",\"/home/travis/build/ickerio/pubg.js\"]],\"_from\":\"snekfetch@3.5.1\",\"_id\":\"snekfetch@3.5.1\",\"_inBundle\":false,\"_integrity\":\"sha512-35qHf+7HIzhHOKdRzW7ruUWKkrKGRhZHpUYdqNDlTnIAKk0tCgiyxhBvL796IB05Ty1AjZobF6WGT72J7tfO0g==\",\"_location\":\"/snekfetch\",\"_phantomChildren\":{},\"_requested\":{\"type\":\"version\",\"registry\":true,\"raw\":\"snekfetch@3.5.1\",\"name\":\"snekfetch\",\"escapedName\":\"snekfetch\",\"rawSpec\":\"3.5.1\",\"saveSpec\":null,\"fetchSpec\":\"3.5.1\"},\"_requiredBy\":[\"/\"],\"_resolved\":\"https://registry.npmjs.org/snekfetch/-/snekfetch-3.5.1.tgz\",\"_spec\":\"3.5.1\",\"_where\":\"/home/travis/build/ickerio/pubg.js\",\"author\":{\"name\":\"Gus Caplan\",\"email\":\"me@gus.host\"},\"browser\":{\"./src/node/index.js\":false,\"./src/meta.js\":false},\"bugs\":{\"url\":\"https://github.com/devsnek/snekfetch/issues\"},\"dependencies\":{},\"description\":\"Just do http requests without all that weird nastiness from other libs\",\"devDependencies\":{\"coveralls\":\"^3.0.0\",\"docma\":\"^1.5.1\",\"eslint\":\"^4.8.0\",\"jest\":\"^21.2.1\",\"jsdoc-dynamic\":\"^1.0.4\",\"json-filter-loader\":\"^1.0.0\",\"node-fetch\":\"github:bitinn/node-fetch\",\"uglifyjs-webpack-plugin\":\"^1.0.0-beta.2\",\"webpack\":\"^3.6.0\"},\"homepage\":\"https://github.com/devsnek/snekfetch\",\"jest\":{\"collectCoverage\":true,\"collectCoverageFrom\":[\"src/**/*.js\",\"!src/qs_mock.js\",\"!src/node/mimeOfBuffer.js\",\"!src/node/transports/http2.js\"],\"verbose\":true},\"license\":\"MIT\",\"main\":\"index.js\",\"name\":\"snekfetch\",\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/devsnek/snekfetch.git\"},\"scripts\":{\"docs\":\"node docs.js\",\"lint\":\"npx eslint src\",\"test\":\"node ./node_modules/.bin/jest\",\"test:coveralls\":\"cat ./coverage/lcov.info | coveralls\"},\"version\":\"3.5.1\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/snekfetch/package.json\n// module id = 12\n// module chunks = 0","function buildRequest(method, url) {\n  return {\n    method,\n    path: url,\n    redirect: this.options.followRedirects ? 'follow' : 'manual',\n    headers: {},\n    setHeader(name, value) {\n      this.headers[name.toLowerCase()] = value;\n    },\n    getHeader(name) {\n      return this.headers[name.toLowerCase()];\n    },\n  };\n}\n\nfunction finalizeRequest() {\n  this._finalizeRequest();\n  if (this.data) this.request.body = this.data;\n  return window.fetch(this.request.path, this.request)\n    .then((r) => r.text().then((t) => {\n      const headers = {};\n      for (const [k, v] of r.headers.entries()) headers[k.toLowerCase()] = v;\n      return { response: r, raw: t, headers };\n    }));\n}\n\nmodule.exports = {\n  buildRequest, finalizeRequest,\n  shouldSendRaw: () => false,\n  METHODS: ['GET', 'HEAD', 'POST', 'PUT', 'DELETE', 'CONNECT', 'OPTIONS', 'PATCH'],\n  STATUS_CODES: {},\n  Extension: Object,\n  FormData: window.FormData,\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/snekfetch/src/browser.js\n// module id = 13\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node (ignored)\n// module id = 14\n// module chunks = 0"],"sourceRoot":""}