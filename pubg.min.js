window.pubg=function(e){function t(n){if(s[n])return s[n].exports;var r=s[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var s={};return t.m=e,t.c=s,t.d=function(e,s,n){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t){e.exports={name:"pubg.js",version:"2.0.0",description:"A powerful Playerunknown's Battlegrounds JavaScript API Wrapper",main:"src/index.js",scripts:{test:"npm run lint && npm run tests",lint:"eslint src *.js",tests:"node test/index.js",webpack:"./node_modules/.bin/webpack --config webpack.config.js"},repository:{type:"git",url:"git+https://github.com/ickerio/pubg.js.git"},keywords:["pubg","api","wrapper"],author:"ickerio",license:"ISC",bugs:{url:"https://github.com/ickerio/pubg.js/issues"},runkitExampleFilename:"docs/example.js",homepage:"https://github.com/ickerio/pubg.js#readme",dependencies:{snekfetch:"^3.4.1"},devDependencies:{eslint:"^4.8.0","uglifyjs-webpack-plugin":"^1.0.0-beta.3",webpack:"^3.6.0"}}},function(e,t,s){const n=s(2);class Profile{constructor(e,t){this.pubgTrackerId=e.pubgTrackerId,this.accountId=e.accountId,this.platform=e.platform,this.nickname=e.nickname,this.avatar=e.avatar,this.avatarFull=e.avatar.replace(".jpg","_full.jpg"),this.steamId=e.steamId,this.lastUpdated=e.lastUpdated,this.timePlayed=e.timePlayed,this.stats=e.stats.map(e=>new n(e)),this.client=t}getStats(e={}){return this.stats.find(t=>t.region===e.region&&t.season===e.season&&t.mode===e.mode)}matchHistory(){return this.client.getMatchHistory(this.accountId)}account(){return this.client.getAccount(this.steamId)}}e.exports=Profile},function(e,t){class Stats{constructor(e){this.region=e.region,this.season=e.season,this.mode=e.mode,this.stats=this._structureStats(e.stats)}getItem(e){if(e)return this.stats.find(t=>t.name===e)}_structureStats(e){const t=[];for(const s of Object.keys(e)){const n=e[s],r={fullName:n.label,name:n.field,category:n.category,value:n.value,rank:n.rank,percentile:n.percentile,displayValue:n.displayValue};t.push(r)}return t}}e.exports=Stats},function(e,t){class Account{constructor(e,t){this.accountId=e.accountId,this.nickname=e.nickname,this.steamId=e.steamId,this.client=t}profile(e){return this.client.getProfile(this.nickname,e)}matchHistory(){return this.client.getMatchHistory(this.accountId)}}e.exports=Account},function(e,t){class Match{constructor(e){this.id=e.id,this.updated=e.updated,this.updatedJS=e.updatedJS,this.season=e.season,this.seasonDisplay=e.seasonDisplay,this.match=e.match,this.matchDisplay=e.matchDisplay,this.region=e.region,this.regionDisplay=e.regionDisplay,this.rounds=e.rounds,this.wins=e.wins,this.kills=e.kills,this.assists=e.assists,this.top10=e.top10,this.rating=e.rating,this.ratingChange=e.ratingChange,this.ratingRank=e.ratingRank,this.ratingRankChange=e.ratingRankChange,this.headshots=e.headshots,this.kd=e.kd,this.damage=e.damage,this.timeSurvived=e.timeSurvived,this.winRating=e.winRating,this.winRank=e.winRank,this.winRatingChange=e.winRatingChange,this.winRatingRankChange=e.winRatingRankChange,this.killRating=e.killRating,this.killRank=e.killRank,this.killRatingChange=e.killRatingChange,this.killRatingRankChange=e.killRatingRankChange,this.moveDistance=e.moveDistance}}e.exports=Match},function(e,t,s){e.exports={Client:s(6),Profile:s(1),Account:s(3),Stats:s(2),Match:s(4),version:s(0).version}},function(e,t,s){const n=s(7),r=s(0),i=s(1),o=s(3),a=s(4);class Client{constructor(e){if(!e)throw new Error("No API key passed.");this.key=e,this._headers={"User-Agent":`pubg.js v${r.version} (${r.homepage})`,"TRN-Api-Key":this.key}}getProfile(e,t={}){return this._apiRequest(`https://api.pubgtracker.com/v2/profile/pc/${e}`,t).then(e=>new i(e,this)).catch(e=>Promise.reject(e))}getAccount(e){return this._apiRequest(`https://api.pubgtracker.com/v2/search/steam?steamId=${e}`).then(e=>new o(e,this)).catch(e=>Promise.reject(e))}getMatchHistory(e){return this._apiRequest(`https://api.pubgtracker.com/v2/matches/pc/${e}`).then(e=>e.map(e=>new a(e))).catch(e=>Promise.reject(e))}_apiRequest(e,t={}){return n.get(e).set(this._headers).query(t).then(e=>e.body.error?Promise.reject(`"${e.body.error}" with code ${e.body.code}`):e.body).catch(e=>Promise.reject(`HTTP ${e}`))}}e.exports=Client},function(e,t,s){e.exports=s(8)},function(e,t,s){const n="undefined"!=typeof window,r=s(9),i=s(12),o=s(n?13:14);class Snekfetch extends o.Extension{constructor(e,t,s={version:1,qs:r,followRedirects:!0}){super(),this.options=s,this.request=o.buildRequest.call(this,e,t,s),s.query&&this.query(s.query),s.data&&this.send(s.data)}query(e,t){if(this.response)throw new Error("Cannot modify query after being sent!");if(this.request.query||(this.request.query={}),null!==e&&"object"==typeof e)for(const[t,s]of Object.entries(e))this.query(t,s);else this.request.query[e]=t;return this}set(e,t){if(this.response)throw new Error("Cannot modify headers after being sent!");if(null!==e&&"object"==typeof e)for(const t of Object.keys(e))this.set(t,e[t]);else this.request.setHeader(e,t);return this}attach(...e){if(this.response)throw new Error("Cannot modify data after being sent!");return this._getFormData().append(...e),this}send(e){if(this.response)throw new Error("Cannot modify data after being sent!");if(e instanceof o.FormData||o.shouldSendRaw(e))this.data=e;else if(null!==e&&"object"==typeof e){const t=this._getRequestHeader("content-type");let s;t?t.includes("json")?s=JSON.stringify:t.includes("urlencoded")&&(s=this.options.qs.stringify):(this.set("Content-Type","application/json"),s=JSON.stringify),this.data=s(e)}else this.data=e;return this}then(e,t){return o.finalizeRequest.call(this).then(({response:e,raw:t,redirect:s,headers:n})=>{if(s){let t=this.request.method;[301,302].includes(e.statusCode)?("HEAD"!==t&&(t="GET"),this.data=null):303===e.statusCode&&(t="GET");const n={};if(this.request._headerNames)for(const e of Object.keys(this.request._headerNames))"host"!==e.toLowerCase()&&(n[this.request._headerNames[e]]=this.request._headers[e]);else{const e=this.request._headers||this.request.headers;for(const t of Object.keys(e)){if("host"===t.toLowerCase())continue;const s=e[t];n[s.name]=s.value}}return new Snekfetch(t,s,{data:this.data,headers:n})}const r=e.statusCode||e.status,i=this,a={request:this.request,get body(){delete a.body;const e=this.headers["content-type"];if(e&&e.includes("application/json"))try{a.body=JSON.parse(a.text)}catch(e){a.body=a.text}else e&&e.includes("application/x-www-form-urlencoded")?a.body=i.options.qs.parse(a.text):a.body=t;return a.body},text:t.toString(),ok:r>=200&&r<400,headers:n||e.headers,status:r,statusText:e.statusText||o.STATUS_CODES[e.statusCode]};if(a.ok)return a;{const e=new Error(`${a.status} ${a.statusText}`.trim());return Object.assign(e,a),Promise.reject(e)}}).then(e,t)}catch(e){return this.then(null,e)}end(e){return this.then(t=>e?e(null,t):t,t=>e?e(t,t.status?t:null):Promise.reject(t))}_read(){this.resume(),this.response||this.catch(e=>this.emit("error",e))}_shouldUnzip(e){return 204!==e.statusCode&&304!==e.statusCode&&("0"!==e.headers["content-length"]&&/^\s*(?:deflate|gzip)\s*$/.test(e.headers["content-encoding"]))}_shouldRedirect(e){return!1!==this.options.followRedirects&&[301,302,303,307,308].includes(e.statusCode)}_getFormData(){return this.data instanceof o.FormData||(this.data=new o.FormData),this.data}_finalizeRequest(){if(this.request&&(this._getRequestHeader("user-agent")||this.set("User-Agent",`snekfetch/${Snekfetch.version} (${i.homepage})`),"HEAD"!==this.request.method&&this.set("Accept-Encoding","gzip, deflate"),this.data&&this.data.getBoundary&&this.set("Content-Type",`multipart/form-data; boundary=${this.data.getBoundary()}`),this.request.query)){const[e,t]=this.request.path.split("?");this.request.path=`${e}?${this.options.qs.stringify(this.request.query)}${t?`&${t}`:""}`}}get response(){return this.request?this.request.res||this.request._response||null:null}_getRequestHeader(e){try{return this.request.getHeader(e)}catch(e){return null}}}Snekfetch.version=i.version,Snekfetch.METHODS=o.METHODS.concat("BREW").filter(e=>"M-SEARCH"!==e);for(const e of Snekfetch.METHODS)Snekfetch[e.toLowerCase()]=((t,s)=>new Snekfetch(e,t,s));e.exports=Snekfetch},function(e,t,s){"use strict";t.decode=t.parse=s(10),t.encode=t.stringify=s(11)},function(e,t,s){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,s,i){t=t||"&",s=s||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var h=e.length;c>0&&h>c&&(h=c);for(var u=0;u<h;++u){var d,l,p,f,g=e[u].replace(a,"%20"),m=g.indexOf(s);m>=0?(d=g.substr(0,m),l=g.substr(m+1)):(d=g,l=""),p=decodeURIComponent(d),f=decodeURIComponent(l),n(o,p)?r(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,s){"use strict";function n(e,t){if(e.map)return e.map(t);for(var s=[],n=0;n<e.length;n++)s.push(t(e[n],n));return s}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,s,a){return t=t||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?n(o(e),function(o){var a=encodeURIComponent(r(o))+s;return i(e[o])?n(e[o],function(e){return a+encodeURIComponent(r(e))}).join(t):a+encodeURIComponent(r(e[o]))}).join(t):a?encodeURIComponent(r(a))+s+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.push(s);return t}},function(e,t){e.exports={_args:[["snekfetch@3.5.1","/home/travis/build/ickerio/pubg.js"]],_from:"snekfetch@3.5.1",_id:"snekfetch@3.5.1",_inBundle:!1,_integrity:"sha512-35qHf+7HIzhHOKdRzW7ruUWKkrKGRhZHpUYdqNDlTnIAKk0tCgiyxhBvL796IB05Ty1AjZobF6WGT72J7tfO0g==",_location:"/snekfetch",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"snekfetch@3.5.1",name:"snekfetch",escapedName:"snekfetch",rawSpec:"3.5.1",saveSpec:null,fetchSpec:"3.5.1"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/snekfetch/-/snekfetch-3.5.1.tgz",_spec:"3.5.1",_where:"/home/travis/build/ickerio/pubg.js",author:{name:"Gus Caplan",email:"me@gus.host"},browser:{"./src/node/index.js":!1,"./src/meta.js":!1},bugs:{url:"https://github.com/devsnek/snekfetch/issues"},dependencies:{},description:"Just do http requests without all that weird nastiness from other libs",devDependencies:{coveralls:"^3.0.0",docma:"^1.5.1",eslint:"^4.8.0",jest:"^21.2.1","jsdoc-dynamic":"^1.0.4","json-filter-loader":"^1.0.0","node-fetch":"github:bitinn/node-fetch","uglifyjs-webpack-plugin":"^1.0.0-beta.2",webpack:"^3.6.0"},homepage:"https://github.com/devsnek/snekfetch",jest:{collectCoverage:!0,collectCoverageFrom:["src/**/*.js","!src/qs_mock.js","!src/node/mimeOfBuffer.js","!src/node/transports/http2.js"],verbose:!0},license:"MIT",main:"index.js",name:"snekfetch",repository:{type:"git",url:"git+https://github.com/devsnek/snekfetch.git"},scripts:{docs:"node docs.js",lint:"npx eslint src",test:"node ./node_modules/.bin/jest","test:coveralls":"cat ./coverage/lcov.info | coveralls"},version:"3.5.1"}},function(e,t){e.exports={buildRequest:function(e,t){return{method:e,path:t,redirect:this.options.followRedirects?"follow":"manual",headers:{},setHeader(e,t){this.headers[e.toLowerCase()]=t},getHeader(e){return this.headers[e.toLowerCase()]}}},finalizeRequest:function(){return this._finalizeRequest(),this.data&&(this.request.body=this.data),window.fetch(this.request.path,this.request).then(e=>e.text().then(t=>{const s={};for(const[t,n]of e.headers.entries())s[t.toLowerCase()]=n;return{response:e,raw:t,headers:s}}))},shouldSendRaw:()=>!1,METHODS:["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","PATCH"],STATUS_CODES:{},Extension:Object,FormData:window.FormData}},function(e,t){}]);